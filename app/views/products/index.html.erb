<p id="notice"><%= notice %></p>

<!DOCTYPE html>
<html lang="en">
<head>
  <title>Bootstrap Example</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
</head>
<body>

<div class="container">

  <div class="row">
    <div class="col-sm-2">
      <div class="dropdown">
        <form method="get">
          <label>Name</label>
          <select  name="name" class="form-control" >
            <option value="">Select Name</option>
            <% get_name.each do |name| %>
                <option value="<%=name[:name] %>"><%=name[:name] %></option>
            <% end %>
          </select>
      </div>
    </div>
    <div class="col-sm-2">
      <div class="dropdown">
        <label>Brand</label>
        <select  name="brand" class="form-control" >
          <option value="">Select Brand</option>
          <% get_brand.each do |brand| %>
              <option value="<%=brand[:brand] %>"><%=brand[:brand] %></option>
          <% end %>
        </select>
      </div>
    </div>
    <div class="col-sm-2">
      <div class="dropdown">
        <label>Model</label>
        <select  name="model"  class="form-control" >
          <option value="">Select Model</option>
          <% get_model.each do |model| %>
              <option value="<%= model[:model] %>"><%= model[:model] %></option>
          <% end %>
        </select>
      </div>
    </div>
    <div class="col-sm-2">
      <div class="dropdown">
        <label>RAM</label>
        <select  name="ram"  class="form-control" >
          <option value="">Select RAM</option>
          <% get_ram.each do |ram| %>
              <option value="<%= ram[:ram] %>"><%= ram[:ram] %></option>
          <% end %>
        </select>
      </div>
    </div>
    <div class="col-sm-2">
      <div class="dropdown">
        <label>External Storage</label>
        <select  name="external_storage"  class="form-control" >
          <option value="">Select External Storage</option>
          <% get_external_storage.each do |es| %>
              <option <%= %> value="<%= es[:external_storage] %>"><%= es[:external_storage] %></option>
          <% end %>
        </select>
      </div>
    </div>
    <button type="submit" class="btn btn-default">Search</button>
    <%= link_to "Excel", products_path(products_download:1,name:params['name'],brand:params['brand'],year:params['year'],ram:params['ram'],external_storage:params['external_storage'],format: "csv") %>

    </form>
  </div>

  <table class="table table-striped">
    <% if @products.present? %>
        <thead>
        <tr>
          <th>Sno</th>
          <th>Product Name</th>
          <th>Model</th>
          <th>Brand</th>
          <th>Year</th>
          <th>Ram External Storage</th>
          <th>View</th>
        </tr>
        </thead>
        <tbody>
        <% @products.each_with_index do |product,idx| %>
            <tr>
              <td><%= product.id%></td>
              <td><%= product.name%></td>
              <td><%= product.model%></td>
              <td><%= product.brand%></td>
              <td><%= product.year%></td>
              <td><%= product.ram%></td>
              <td><a href="/products/<%= product.id %>">View product</a></td>
            </tr>
        <% end %>
        </tbody>
    <% end %>
  </table>
</div>
<%= will_paginate @products%>

</body>
</html>

